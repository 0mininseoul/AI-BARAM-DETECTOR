# AI 위장 여사친 판독기

## 서비스 기획서 & MVP 개발 계획

**Version 2.1 | 2026년 1월**

---

## 목차

1. [서비스 개요](#1-서비스-개요)
2. [타겟 유저 & 유저 플로우](#2-타겟-유저--유저-플로우)
3. [화면별 상세 기획](#3-화면별-상세-기획)
4. [핵심 알고리즘](#4-핵심-알고리즘)
5. [기술 아키텍처](#5-기술-아키텍처)
6. [수익 모델](#8-수익-모델)
7. [마이페이지 기능](#9-마이페이지-기능)
8. [맞팔 업데이트 알리미 서비스](#10-맞팔-업데이트-알리미-서비스)

---

## 1. 서비스 개요

| 항목 | 내용 |
|------|------|
| **서비스명** | AI 위장 여사친 판독기 |
| **한 줄 소개** | AI가 남자친구의 인스타그램 맞팔 중 위장 여사친을 찾아드립니다 |
| **후킹 카피** | *"내 남친이 맞팔 중인 여자들, 누가 제일 위험할까?"* |
| **타겟 유저** | 20대 여성, 연애 중, SNS 활발 사용 |
| **핵심 가치** | 공개된 정보만으로 연인 관계의 불안 해소 (재미 목적) |

---

## 2. 타겟 유저 & 유저 플로우

### 2.1 유저 플로우

```
[랜딩] → [로그인] → [애인 ID/성별 입력] → [결제] → [분석 중...] → [결과 리포트] → [마이페이지]
```

| 단계 | 상세 내용 |
|------|-----------| 
| 1. 랜딩 | 후킹 카피 + 서비스 설명 + CTA (모바일 first) |
| 2. 로그인 | 카카오/구글 OAuth |
| 3. 입력 | 남자친구 인스타 ID + 성별 선택 (공개 계정만 가능 안내) |
| 4. 결제 | 요금제 선택 후 결제 (입력 데이터 Supabase 저장) |
| 5. 분석 | 백그라운드 작업 + 진행률 표시 + 완료 시 이메일 알림 |
| 6. 결과 | 여자 맞팔 리스트 + 비공개 계정 리스트 (2컬럼) |
| 7. 마이페이지 | 분석 기록 조회/메모/분류/삭제 |

---

## 3. 화면별 상세 기획

### 3.1 랜딩 페이지

> ⚠️ 랜딩페이지 작업 시 별도 기획서 작성 후 컨펌 필요

- **후킹 카피:** "내 남친이 맞팔 중인 여자들, 누가 제일 위험할까?"
- 서비스 설명 (3단계): 입력 → AI 분석 → 결과 확인
- 면책 조항: "AI 분석은 100% 정확하지 않으며, 재미 목적으로만 이용해주세요"
- **CTA 버튼:** "분석 시작하기"

### 3.2 입력 화면

```
┌─────────────────────────────────┐
│  남자친구의 인스타그램 아이디    │
│  ┌───────────────────────────┐  │
│  │ @                         │  │
│  └───────────────────────────┘  │
│                                 │
│  ⚠️ 공개 계정만 분석 가능합니다  │
│                                 │
│  [다음으로]                     │
└─────────────────────────────────┘
```

입력 완료 후 → 데이터 Supabase 저장 → 결제 화면으로 이동

### 3.3 결제 페이지

```
┌─────────────────────────────────────────────┐
│             요금제 선택                      │
├──────────────────┬──────────────────────────┤
│    베이직        │       스탠다드            │
│   ~~$4.99~~      │      ~~$9.99~~           │
│    $2.99         │       $5.99              │
└──────────────────┴──────────────────────────┘
```

> ⚠️ 분석 인원수(500명, 1000명 등)는 유저에게 노출하지 않음

### 3.4 분석 중 화면

- 실시간 진행률 바 (Supabase Realtime)
- 단계별 체크마크: 팔로워 수집 → 맞팔 확인 → **계정 분석**
- 예상 소요시간 표시 (약 3~5분)
- **이탈 허용:** "페이지를 닫아도 분석은 계속됩니다. 완료되면 이메일로 알려드릴게요!"

> ⚠️ "외모 분석" 표현 절대 노출 금지 → "계정 분석"으로 표시

### 3.5 결과 리포트 화면

#### 상단 - 성별 비율 리포트

```
┌──────────────────────────────────────────────┐
│ @boyfriend_123 맞팔 계정 성별 분석           │
│ 👨 남성: 87명 (57%) │ 👩 여성: 47명 (31%) │ ❓ 알수없음: 18명 (12%) │
└──────────────────────────────────────────────┘
```

#### 2컬럼 레이아웃

```
┌────────────────────────┬────────────────────────┐
│ 남자친구가 맞팔 중인    │ 남자친구가 맞팔 중인    │
│ 여자들 47명            │ 비공개 계정 23개        │
├────────────────────────┼────────────────────────┤
│ [테이블 포맷]          │ [테이블 포맷]           │
│ • 프로필 이미지        │ • 프로필 이미지         │
│ • 아이디 (인스타 링크) │ • 아이디 (인스타 링크)  │
│ • 위험순위 Grade       │                        │
│ • bio                  │                        │
└────────────────────────┴────────────────────────┘
```

> ⚠️ 외모 Grade, 노출 정도, 태그 여부, 성별 신뢰도는 유저에게 노출하지 않음

#### 위험순위 Grade 표시

| Grade | 색상 | 기준 |
|-------|------|------|
| 🔴 고위험군 | 빨강 | 상위 10명 (또는 상위 10%) |
| 🟠 주의 | 주황 | 나머지의 20% |
| 🟢 보통 | 초록 | 나머지의 80% |

---

## 4. 핵심 알고리즘

### 4.1 데이터 수집 파이프라인

```
1. 대상 계정 기본 정보 수집
   └─ 프로필, 팔로워 수, 팔로잉 수, 공개 여부 확인

2. 팔로워/팔로잉 목록 수집 (요금제별 제한)
   └─ 베이직: 각 500명 / 스탠다드: 각 1000명

3. 맞팔 추출
   └─ 팔로워 ∩ 팔로잉 교집합

4. 공개/비공개 분류

5. 공개 계정 프로필 스크래핑 (최대 350개)
   └─ apify/instagram-profile-scraper

6. 성별 판단 (공개 계정 대상)
   └─ Gemini 3.0 Flash로 이미지+텍스트 분석
   └─ 신뢰도 기반 분류 (확정/의심/판단불가)

7. 계정 분석 (Photogenic Quality + 노출 정도 + 태그)
   └─ Gemini 3.0 Flash로 분석

8. 위험순위 계산 및 결과 저장/이메일 발송
```

### 4.2 성별 판단 (Gemini 3.0 Flash)

```
신뢰도 기준:
- ≥ 0.80 → 확정 여성
- 0.60 ~ 0.80 → 의심 여성 (이성 의심인물)
- < 0.60 → 판단불가 (분석에서 제외)
```

### 4.3 점수 체계 (내부용, 유저 비노출)

| 항목 | 점수 |
|------|------|
| Photogenic Quality Grade 5 | 100점 |
| Photogenic Quality Grade 4 | 80점 |
| Photogenic Quality Grade 3 | 60점 |
| Photogenic Quality Grade 2 | 40점 |
| Photogenic Quality Grade 1 | 20점 |
| 피부 노출 많음 | 40점 |
| 태그됨 | 30점 |

**최종점수 = Photogenic점수 + 노출점수 + 태그점수** (최대 170점)

### 4.4 위험순위 분류

**전체 여성 맞팔 ≥ 100명:**
- 상위 10명 = 🔴 고위험군
- 나머지의 20% = 🟠 주의
- 나머지의 80% = 🟢 보통

**전체 여성 맞팔 < 100명:**
- 상위 10% = 🔴 고위험군
- 나머지의 20% = 🟠 주의
- 나머지의 80% = 🟢 보통

---

## 5. 기술 아키텍처

### 5.1 기술 스택

| 영역 | 기술 |
|------|------|
| 프론트엔드 | Next.js 16, React 19, Tailwind CSS 4 |
| 배포 | Vercel (Free) |
| 백엔드/DB | Supabase |
| 스크래핑 | Apify |
| AI 분석 | Gemini 3.0 Flash |
| 이메일 | Resend |
| 결제 | Polar (USD) |
| 애널리틱스 | Amplitude |

### 5.2 Apify 스크래퍼

| 용도 | Actor | 비고 |
|------|-------|------|
| 팔로워 수집 | `datadoping/instagram-followers-scraper` | |
| 팔로잉 수집 | `louisdeconinck/instagram-following-scraper` | **쿠키 필요** |
| 프로필/매일 트래킹 | `apify/instagram-profile-scraper` | |

---

## 6. 수익 모델

### 6.1 분석 요금제 (Polar USD)

| 요금제 | 정가 | 할인가 | 스크래핑 제한 |
|--------|------|--------|--------------|
| 베이직 | ~~$4.99~~ | **$2.99** | 팔로워/팔로잉 각 500명 |
| 스탠다드 | ~~$9.99~~ | **$5.99** | 팔로워/팔로잉 각 1000명 |

### 6.2 맞팔 업데이트 알리미 (Polar USD)

| 항목 | 가격 |
|------|------|
| 가입비 | $1.99 |
| 월 업데이트 0회 | 무료 |
| 월 업데이트 1회 | $1.99 |
| 월 업데이트 2회 | $2.99 |
| 월 업데이트 n회 | $0.99 + n |

---

## 7. 마이페이지 기능

| 기능 | 설명 |
|------|------|
| 분석 기록 조회 | 과거 분석 결과 목록 |
| 상세 보기 | 각 분석 결과 상세 |
| 메모 추가 | 각 계정에 메모 작성 |
| 분류 관리 | 사용자 정의 카테고리 |
| 삭제 | 분석 결과 삭제 |

---

## 8. 맞팔 업데이트 알리미 서비스

### 프로세스

1. **가입 ($1.99)**: 초기 팔로워/팔로잉 스크래핑 및 저장
2. **매일 트래킹**: `apify/instagram-profile-scraper`로 follower_count, following_count 조회
3. **변경 감지**: 수치 변경 시 전체 팔로워/팔로잉 재스크래핑
4. **분석**: 새 맞팔 계정에 대해 성별/계정 분석
5. **리포트 발송**: 이메일
6. **과금**: 월말 업데이트 횟수에 따라 후불 결제

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|-----------| 
| 1.0 | 2025-01-22 | 초안 작성 |
| 2.0 | 2026-01-29 | 전면 재설계 |
| 2.1 | 2026-01-29 | 유저 플로우 수정, 요금제 제한 변경(500/1000), 외모 표현 제거, 파이프라인 순서 변경, 결과 표시 항목 정리 |

---

*— End of Document —*
