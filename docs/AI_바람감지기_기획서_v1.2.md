# 🔍 AI 바람 감지기

## 서비스 기획서 & MVP 개발 계획

**Version 1.2 | 2025년 1월**

---

## 📋 목차

1. [서비스 개요](#1-서비스-개요)
2. [타겟 유저 & 유저 플로우](#2-타겟-유저--유저-플로우)
3. [화면별 상세 기획](#3-화면별-상세-기획-모바일-first)
4. [핵심 알고리즘](#4-핵심-알고리즘)
5. [기술 아키텍처](#5-기술-아키텍처)
6. [인스타그램 스크래핑 전략](#6-인스타그램-스크래핑-전략)
7. [MVP 개발 계획 (총 3일)](#7-mvp-개발-계획-총-3일)
8. [비용 & 리스크 관리](#8-비용--리스크-관리)
9. [향후 로드맵](#9-향후-로드맵)

---

## 1. 서비스 개요

| 항목 | 내용 |
|------|------|
| **서비스명** | AI 바람 감지기 |
| **한 줄 소개** | AI가 애인의 인스타그램을 분석해 바람 위험도가 높은 인물을 찾아드립니다 |
| **후킹 카피** | *"내 남친의 여사친 중 가장 위험한 사람이 누굴까?"* |
| **타겟 유저** | 20대 여성, 연애 중, SNS 활발 사용 |
| **핵심 가치** | 공개된 정보만으로 연인 관계의 불안 해소 (재미 목적) |
| **무료 이용 횟수** | **1회** |
| **추가 결제** | 2위 이하 인물 열람: 4,900원/인, 딥 스캔: 29,900원/회 (베타 준비중) |
| **유저 유입 채널** | 인스타 광고, 커뮤니티 바이럴, 지인 추천 |

---

## 2. 타겟 유저 & 유저 플로우

### 2.1 타겟 페르소나

- 20대 중반 여성, 대학생 또는 직장인
- 현재 남자친구와 연애 중 (6개월~2년)
- 인스타그램 일 평균 1시간 이상 사용
- 남친 계정의 활동을 가끔 체크하는 편
- "혹시 모를 불안"을 재미로 해소하고 싶은 니즈

### 2.2 유저 플로우

```
[랜딩 페이지] → [로그인(카카오/구글)] → [애인 ID 입력 + 성별 선택] → [분석 중...] → [결과 리포트]
```

| 단계 | 상세 내용 |
|------|-----------|
| 1. 랜딩 | 후킹 카피 + 서비스 설명 + CTA 버튼 (모바일 first) |
| 2. 로그인 | 카카오/구글 OAuth (이메일 수집 필수 - 알림용) |
| 3. 입력 | 애인 인스타 ID + 성별 선택 (공개 계정만 가능 안내) |
| 4. 분석 | 백그라운드 작업 진행 + 진행률 표시 + 완료 시 이메일 알림 |
| 5. 결과 | 1위 인물 상세 + 비공개계정 리스트 + 공유하기 버튼 |

---

## 3. 화면별 상세 기획 (모바일 First)

### 3.1 랜딩 페이지

- **후킹 카피:** "내 남친의 여사친 중 가장 위험한 사람이 누굴까?"
- 서비스 설명 (3단계 아이콘): 입력 → AI 분석 → 결과 확인
- 면책 조항: "AI 분석은 100% 정확하지 않으며, 재미 목적으로만 이용해주세요"
- **CTA 버튼:** "무료로 분석 시작하기"
- 신뢰 요소: 분석 건수 카운터, 유저 후기 (추후)

### 3.2 입력 화면

```
┌─────────────────────────────────┐
│  애인의 인스타그램 아이디        │
│  ┌───────────────────────────┐  │
│  │ @                         │  │
│  └───────────────────────────┘  │
│                                 │
│  애인의 성별                    │
│  ○ 남성  ○ 여성                │
│                                 │
│  ⚠️ 공개 계정만 분석 가능합니다  │
│                                 │
│  [분석 시작하기]                │
└─────────────────────────────────┘
```

### 3.3 분석 중 화면

- 실시간 진행률 바 (Supabase Realtime 연동)
- 단계별 체크마크: 팔로워 수집 → 맞팔 확인 → 성별 판단 → 상호작용 분석
- 예상 소요시간 표시 (약 3~5분)
- **이탈 허용:** "페이지를 닫아도 분석은 계속됩니다. 완료되면 이메일로 알려드릴게요!"

### 3.4 결과 리포트 화면

#### 상단 - 분석 요약

- @boyfriend_id 분석 완료
- 맞팔 계정: 152개 | 이성 계정: 47개 | 비공개 계정: 23개
- **분석 신뢰도: 87%** (상호작용 데이터 양, 성별 판단 확실성 기반)

#### 중단 - 1위 인물 카드 (무료)

- 프로필 사진: 흐림(blur) 처리
- 아이디: 1~2자 마스킹 (예: @su***_kim)
- **위험도 점수: 847점**
- 상호작용 요약: ❤️ 좋아요 34개, 💬 댓글 12개
- 태그/언급: 있을 경우에만 표시 (0개면 생략)
- 알고 지낸 예상 시간: 14개월
- **상호작용 급증 지표:** "최근 1개월 상호작용이 이전 대비 +250%"

#### 하단 - 비공개 계정 리스트 (무료)

- 맞팔 중인 비공개 계정 목록 (마스킹된 ID)
- "이 계정들은 분석이 불가합니다. 직접 확인이 필요할 수 있어요"

#### 추가 결제 유도 (앵커링 효과)

```
┌─────────────────────────────────┐
│  💡 2위 위험 인물도 확인할까요? │
│                                 │
│  위험도 2위: ●●●●●●● (723점)   │
│  (아이디는 결제 후 공개)        │
│                                 │
│  ┌─────────────────────────┐   │
│  │  [4,900원에 2위 보기]   │   │  ← 메인 버튼 (강조)
│  └─────────────────────────┘   │
│                                 │
│  ┌─────────────────────────┐   │
│  │ [29,900원 딥 스캔 하기] │   │  ← 서브 버튼 (앵커링)
│  │  외부 댓글까지 전수 분석  │   │
│  └─────────────────────────┘   │
└─────────────────────────────────┘
```

> **앵커링 효과:** 29,900원 딥 스캔을 함께 보여주어 4,900원 추가 열람이 상대적으로 저렴하게 느껴지도록 함

#### 딥 스캔 버튼 클릭 시 (베타 안내 모달)

```
┌─────────────────────────────────┐
│              🔬                 │
│                                 │
│     딥 스캔 기능 준비중!        │
│                                 │
│  현재 베타 서비스 기간으로       │
│  딥 스캔 기능은 아직 준비중이에요.│
│                                 │
│  빠른 시일 내에 오픈할 예정이니   │
│  조금만 기다려주세요! 🙏         │
│                                 │
│  ┌─────────────────────────┐   │
│  │       [확인]            │   │
│  └─────────────────────────┘   │
└─────────────────────────────────┘
```

#### 공유하기 버튼 (MVP 필수)

- **카카오톡 공유:** "내 애인의 친구들 중 위장 여사친/남사친은 누굴까?"
- **인스타그램 DM 공유:** 서비스 링크 + 간단 문구

---

## 4. 핵심 알고리즘

### 4.1 데이터 수집 파이프라인

```
1. 대상 계정 기본 정보 수집
   └─ 프로필, 팔로워 수, 팔로잉 수, 공개 여부 확인

2. 팔로워/팔로잉 목록 수집
   └─ 양쪽 리스트 비교 → 맞팔 계정 추출

3. 맞팔 계정별 분석
   ├─ 프로필 사진 + 피드 이미지(최대 10장) + 바이오 → AI 성별 판단
   ├─ 공개 여부 체크
   └─ (이성 & 공개) → 상호작용 분석 대상 선정

4. 상호작용 분석 (피드 + 릴스 + 태그된 피드 모두 검토)
   ├─ 대상 계정의 콘텐츠 → 좋아요/댓글/태그/언급 확인
   ├─ 애인 계정의 콘텐츠 → 좋아요/댓글/태그/언급 확인
   ├─ 댓글 친밀도 분석 (AI)
   └─ 대상 계정의 외모 분석 (대중적 선호도 상/중/하)

5. 점수 계산 & 순위화
```

### 4.2 성별 판단 알고리즘 (Gemini 3.0 Flash API)

```
분석 대상:
- 프로필 사진
- 최근 피드 이미지 (최대 10장, 없으면 있는 만큼 전부)
- 이름 (username, full name)
- 바이오 텍스트

응답 형식:
{
  "gender": "male" | "female" | "unknown",
  "confidence": 0.0 ~ 1.0,
  "reasoning": "판단 근거"
}

처리 규칙:
- confidence < 0.7 → "unknown" 처리 → 분석에서 제외
- 성별 판단 불가 계정은 결과에 포함하지 않음
```

### 4.3 외모 분석 알고리즘 (Gemini 3.0 Flash API)

```
목적: 위험도 인물의 외모 대중적 선호도 분석

분석 대상 이미지 선정 로직:
1. 독사진(1인 사진) 우선 식별
2. 프로필 사진과 유사한 인물 매칭
3. 여러 사진에서 반복 등장하는 인물 = 계정 주인

분석 기준:
- 대중적 선호도 기준 (해상도 무관)
- 얼굴 비율, 이목구비, 전체적인 인상 종합 평가

응답 형식:
{
  "owner_identified": true | false,
  "attractiveness_level": "high" | "medium" | "low",
  "confidence": 0.0 ~ 1.0,
  "reasoning": "판단 근거"
}

점수 부여:
- 상 (high): 70점
- 중 (medium): 10점
- 하 (low): 0점
- 식별 불가: 0점
```

### 4.4 댓글 친밀도 분석 알고리즘 (Gemini 3.0 Flash API)

```
목적: 댓글에서 드러나는 두 사람 사이의 친밀도 분석

점수 체계:
- 일반 댓글: 3점
- 친밀한 댓글: 5점

응답 형식:
{
  "intimacy_level": "intimate" | "normal",
  "confidence": 0.0 ~ 1.0,
  "indicators": ["발견된 친밀도 지표들"],
  "reasoning": "판단 근거"
}
```

#### 친밀한 댓글 판단 기준 (5점)

| 카테고리 | 예시 | 설명 |
|----------|------|------|
| **애칭/별명 사용** | "오빠~", "언니!", "자기야", "여보", 닉네임 | 공식적이지 않은 친근한 호칭 |
| **과다한 애정 이모지** | ❤️🔥😍💕 3개 이상 | 하트, 불꽃, 하트눈 등 애정 표현 이모지 |
| **사적인 약속/만남 언급** | "다음에 또 보자", "오늘 재밌었어", "언제 밥?" | 오프라인 만남을 암시하는 내용 |
| **내부 농담/은어** | 둘만 아는 표현, 이전 대화 언급 | 공유된 경험/기억 기반 대화 |
| **신체적/외모 칭찬** | "너무 예뻐", "잘생겼다", "오늘 뭔가 달라 보여" | 외모에 대한 직접적 언급 |
| **관심 표현 질문** | "뭐해?", "밥 먹었어?", "요즘 어때?" | 일상적 안부를 묻는 질문형 |
| **걱정/염려 표현** | "괜찮아?", "무리하지 마", "아프지 마" | 상대를 걱정하는 내용 |
| **소유격 표현** | "우리", "내 꺼", "너만" | 관계의 배타성을 암시하는 표현 |

#### 일반 댓글 판단 기준 (3점)

| 카테고리 | 예시 | 설명 |
|----------|------|------|
| **단순 이모지** | 👍, 😊, 🙌 1-2개 | 감정 표현이 약한 이모지 |
| **형식적 인사** | "축하해", "고생했어", "좋아요" | 누구에게나 할 수 있는 표현 |
| **일반적 칭찬** | "멋지다", "좋다", "굿" | 구체적이지 않은 칭찬 |
| **단답형 반응** | "ㅋㅋㅋ", "ㅎㅎ", "웅" | 짧은 반응성 댓글 |
| **공식적 호칭** | 이름, "님" | 거리감 있는 호칭 |

#### 친밀도 분석 프롬프트 예시

```
다음 댓글의 친밀도를 분석해주세요.

댓글 작성자: @suspect_user
댓글 대상 게시물 주인: @target_user
댓글 내용: "{comment_text}"

판단 기준:
- 애칭/별명 사용 여부
- 애정 표현 이모지 (❤️🔥😍💕) 3개 이상 사용 여부
- 사적인 약속/만남 언급 여부
- 내부 농담/은어 사용 여부
- 신체적/외모 칭찬 여부
- 관심 표현 질문 여부
- 걱정/염려 표현 여부
- 소유격 표현 ("우리", "내 꺼" 등) 사용 여부

위 기준 중 1개 이상 해당되면 "intimate", 없으면 "normal"로 판단하세요.

응답 형식 (JSON):
{
  "intimacy_level": "intimate" | "normal",
  "confidence": 0.0 ~ 1.0,
  "indicators": ["발견된 지표들"],
  "reasoning": "판단 근거"
}
```

### 4.5 위험도 점수 계산

#### 기본 상호작용 점수

| 액션 유형 | 기본 점수 | 비고 |
|-----------|-----------|------|
| ❤️ 좋아요 | 1점 | 가장 기본적인 상호작용 |
| 💬 일반 댓글 | 3점 | 형식적/일반적인 댓글 |
| 💬 친밀한 댓글 | 5점 | 친밀도 분석 결과 "intimate" |
| ↩️ 대댓글 | 5점 | 대화 지속 의지 |

#### 태그/언급 점수 (통합 개념)

> **태그의 정의:** 게시물 자체 태그 + 캡션 언급 + 댓글 언급을 모두 포함

| 태그/언급 유형 | 점수 | 설명 |
|----------------|------|------|
| 게시물 자체 태그 | 3점 | 사진/영상에 직접 태그 |
| 캡션에서 언급 (@멘션) | 5점 | 캡션에서 아이디 언급 |
| 댓글에서 언급 (@멘션) | 3점 | 댓글 점수와 동일하게 처리 |

> **참고:** 댓글에서 언급한 경우, 이미 '댓글' 액션으로 점수가 부여되므로 중복 가산하지 않음. 단, 해당 댓글이 '언급'을 포함한다는 사실은 별도로 기록하여 리포트에 표시.

#### 외모 점수

| 외모 대중적 선호도 | 점수 |
|-------------------|------|
| 상 (High) | 70점 |
| 중 (Medium) | 10점 |
| 하 (Low) | 0점 |

#### 기간 가중치

| 알고 지낸 기간 | 가중치 |
|----------------|--------|
| 6개월 미만 | ×1.0 |
| 6개월 ~ 12개월 | ×1.3 |
| 12개월 이상 | ×1.5 |

#### 최근 급증 보너스

최근 1개월 상호작용 > 이전 평균 × 2 → 전체 점수 × 1.5

#### 최종 점수 계산 공식

```
기본점수 = (좋아요 × 1) + (일반댓글 × 3) + (친밀댓글 × 5) + (대댓글 × 5) 
         + (게시물태그 × 3) + (캡션언급 × 5) + (외모점수)

최종점수 = 기본점수 × 기간가중치 × 급증보너스(해당시)
```

### 4.6 신뢰도 점수 계산

```
신뢰도 = (상호작용_데이터_충분도) × (평균_성별판단_confidence) × 100

상호작용_데이터_충분도 계산:
- 수집된 총 상호작용 수 / 기대 상호작용 수
- 기대 상호작용 수 = 이성 맞팔 수 × 평균 게시물 수 × 0.1
- 최대값 1.0으로 cap

요소:
- 수집된 상호작용 데이터 총량 (좋아요, 댓글, 태그 등)
- AI 성별 판단의 평균 confidence
- 분석 가능했던 게시물 수
```

---

## 5. 기술 아키텍처

### 5.1 시스템 구성도

```
┌─────────────────────────────────────────────────┐
│                    Frontend                      │
│              Next.js 14 (App Router)             │
│         Vercel Free Plan / Tailwind CSS          │
└─────────────────────┬───────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────┐
│                    Backend                       │
│              Next.js API Routes                  │
│           + Supabase Edge Functions              │
└───────┬──────────────────────────────┬──────────┘
        │                              │
        ▼                              ▼
┌───────────────┐            ┌─────────────────────┐
│   Supabase    │            │   External APIs     │
│  (Hobby Plan) │            │  - Apify (Free)     │
│  - Auth       │            │  - Gemini 3.0 Flash │
│  - Database   │            │  - Resend (이메일)   │
│  - Realtime   │            └─────────────────────┘
│  - Storage    │
└───────────────┘
        │
        ▼
┌───────────────┐
│   Amplitude   │
│   Analytics   │
└───────────────┘
```

### 5.2 기술 스택 상세

| 영역 | 기술 | 플랜 |
|------|------|------|
| 프론트엔드 | Next.js 14 (App Router) | - |
| 스타일링 | Tailwind CSS | - |
| 배포 | Vercel | **Free** |
| 백엔드/DB | Supabase (Auth, DB, Realtime) | **Hobby (Free)** |
| 인스타 스크래핑 | Apify | **Free ($5/월)** |
| AI 분석 | Google Gemini 3.0 Flash API | 종량제 |
| 이메일 발송 | Resend | **Free (100/일)** |
| 애널리틱스 | Amplitude | **Free** |

### 5.3 데이터베이스 스키마

```sql
-- 사용자 테이블
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  email VARCHAR(255) UNIQUE,
  provider VARCHAR(50),  -- 'google' | 'kakao'
  analysis_count INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 분석 요청 테이블
CREATE TABLE analysis_requests (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id),
  target_instagram_id VARCHAR(100),
  target_gender VARCHAR(10),  -- 'male' | 'female'
  status VARCHAR(20),  -- 'pending' | 'processing' | 'completed' | 'failed'
  progress INTEGER DEFAULT 0,  -- 0-100
  created_at TIMESTAMP DEFAULT NOW(),
  completed_at TIMESTAMP
);

-- 분석 결과 테이블
CREATE TABLE analysis_results (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  request_id UUID REFERENCES analysis_requests(id),
  rank INTEGER,  -- 1위, 2위, ...
  suspect_instagram_id VARCHAR(100),
  suspect_profile_image TEXT,
  risk_score INTEGER,
  likes_count INTEGER,
  normal_comments_count INTEGER,    -- 일반 댓글 수
  intimate_comments_count INTEGER,  -- 친밀한 댓글 수
  replies_count INTEGER,
  post_tags_count INTEGER,          -- 게시물 자체 태그
  caption_mentions_count INTEGER,   -- 캡션 언급
  comment_mentions_count INTEGER,   -- 댓글 언급
  attractiveness_level VARCHAR(10), -- 'high' | 'medium' | 'low'
  attractiveness_score INTEGER,
  duration_months INTEGER,
  is_recent_surge BOOLEAN,
  confidence_score FLOAT,
  is_unlocked BOOLEAN DEFAULT FALSE,  -- 결제 여부
  created_at TIMESTAMP DEFAULT NOW()
);

-- 댓글 상세 테이블 (친밀도 분석 결과 저장)
CREATE TABLE comment_details (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  result_id UUID REFERENCES analysis_results(id),
  comment_text TEXT,
  intimacy_level VARCHAR(10),  -- 'intimate' | 'normal'
  intimacy_indicators TEXT[],   -- 발견된 친밀도 지표들
  confidence FLOAT,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 비공개 계정 테이블
CREATE TABLE private_accounts (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  request_id UUID REFERENCES analysis_requests(id),
  instagram_id VARCHAR(100),
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

## 6. 인스타그램 스크래핑 전략

### 6.1 수집 대상 콘텐츠

| 탭 | MVP 포함 | 수집 방법 |
|----|----------|-----------|
| 피드 (Posts) | ✅ | Instagram Profile Scraper |
| 릴스 (Reels) | ✅ | Instagram Reel Scraper |
| 태그된 피드 | ✅ | Tagged Posts 엔드포인트 |
| 리포스트 | ❌ | MVP에서 제외 (수집 어려움) |

### 6.2 Apify 옵션 분석

| Actor | 로그인 | 속도 | 추천 |
|-------|--------|------|------|
| Instagram Following Scraper (sejinius) | ❌ 불필요 | 중간 | **✅ 1순위** |
| Instagram Followers - No Cookies | ❌ 불필요 | 중간 | ✅ 백업 |
| Instagram Followers List (coderx) | 쿠키 필요 | 빠름 | ⚠️ 2순위 |

### 6.3 Fallback 전략

```
1차 시도: Apify "No Login" 스크래퍼
   ↓ 실패 시 (rate limit, block 등)
2차 시도: Apify 쿠키 기반 스크래퍼 (서비스 운영용 계정 사용)
   ↓ 실패 시
3차 백업: Bright Data API ($0.001/record)
   ↓ 장기적
4차: 자체 스크래핑 인프라 구축 (Puppeteer + Residential Proxy)
```

### 6.4 자체 스크래핑 구현 계획 (Fallback)

Apify가 지속적으로 실패할 경우를 대비한 자체 구현 계획:

- **기술 스택:** Puppeteer + puppeteer-extra-plugin-stealth
- **프록시:** Bright Data Residential Proxy ($15/GB) 또는 Oxylabs
- **실행 환경:** AWS Lambda 또는 Railway
- **Rate Limiting:** 요청 간 2-5초 랜덤 딜레이
- **예상 비용:** $50-100/월 (프록시 + 서버)

### 6.5 비용 예측 (Free Plan 기준)

| 시나리오 | 예상 API 호출 | Free Plan 가능 |
|----------|--------------|----------------|
| 맞팔 100명 계정 | ~300 requests | 15-20회 분석 |
| 맞팔 300명 계정 | ~600 requests | 8-10회 분석 |

> ⚠️ 100명 베타 테스트 시 Free Plan으로는 빠듯함. 필요 시 Starter Plan ($49/월) 업그레이드 고려.

---

## 7. MVP 개발 계획 (총 3일)

> **전제:** AI(Claude/Cursor)와 함께 바이브코딩으로 빠르게 진행

### Day 1: 인프라 + 스크래핑

| 시간 | 태스크 |
|------|--------|
| 오전 | Next.js 14 프로젝트 초기화, Supabase 연동, Vercel 배포 |
| 오전 | DB 스키마 생성, Supabase Auth 설정 (카카오/구글) |
| 오후 | Apify 연동, 팔로워/팔로잉 스크래핑 함수 구현 |
| 오후 | 맞팔 추출, 게시물(피드+릴스+태그된피드) 수집 함수 |
| 저녁 | 좋아요/댓글/태그/언급 수집 함수, 에러 핸들링 |

**Day 1 완료 기준:**
- [x] 인스타 ID 입력 → 맞팔 목록 + 상호작용 데이터 수집 완료

---

### Day 2: AI 분석 + 백엔드

| 시간 | 태스크 |
|------|--------|
| 오전 | Gemini 3.0 Flash API 연동, 성별 판단 프롬프트 |
| 오전 | 외모 분석 프롬프트, 계정 주인 식별 로직 |
| 점심 | **댓글 친밀도 분석 프롬프트 & 로직** |
| 오후 | 위험도 점수 계산 (가중치, 급증 감지), 신뢰도 계산 |
| 오후 | 백그라운드 작업 큐 (Supabase Edge Functions) |
| 저녁 | Resend 이메일 연동, 완료 알림, 무료 1회 제한 |

**Day 2 완료 기준:**
- [x] 전체 분석 파이프라인 동작 (입력 → 분석 → 결과 저장 → 이메일)

---

### Day 3: 프론트엔드 + 런칭

| 시간 | 태스크 |
|------|--------|
| 오전 | 랜딩 페이지 (모바일 first), 로그인/입력 화면 |
| 오전 | 분석 중 화면 (Supabase Realtime 프로그레스) |
| 오후 | 결과 리포트 화면, 1위 카드, 비공개 리스트 |
| 오후 | 공유하기 (카카오톡, 인스타 DM), 결제 버튼 UI |
| 오후 | **딥 스캔 버튼 → 베타 준비중 모달** |
| 저녁 | Amplitude 연동, 이용약관/면책조항, 최종 테스트 |
| 밤 | 🚀 **클로즈 베타 런칭!** |

**Day 3 완료 기준:**
- [x] 전체 유저 플로우 동작
- [x] 베타 테스터 100명 모집 시작

---

### 체크리스트 요약

#### Day 1 체크리스트
- [ ] Next.js 14 + Tailwind 초기화
- [ ] Supabase 프로젝트 생성 & DB 스키마
- [ ] Supabase Auth (카카오, 구글)
- [ ] Vercel 배포
- [ ] Apify 연동 & 테스트
- [ ] 팔로워/팔로잉 수집 함수
- [ ] 맞팔 추출 로직
- [ ] 피드/릴스/태그된피드 수집
- [ ] 좋아요/댓글/태그/언급 수집

#### Day 2 체크리스트
- [ ] Gemini 3.0 Flash API 연동
- [ ] 성별 판단 프롬프트 & 로직
- [ ] 외모 분석 프롬프트 & 로직
- [ ] 계정 주인 식별 로직
- [ ] **댓글 친밀도 분석 프롬프트 & 로직**
- [ ] 위험도 점수 계산
- [ ] 신뢰도 점수 계산
- [ ] 백그라운드 작업 큐
- [ ] Resend 이메일 알림
- [ ] 무료 1회 제한

#### Day 3 체크리스트
- [ ] 랜딩 페이지 (모바일)
- [ ] 로그인 페이지
- [ ] 입력 화면
- [ ] 분석 중 화면 (Realtime)
- [ ] 결과 리포트 화면
- [ ] 공유하기 (카카오톡, 인스타)
- [ ] 결제 버튼 UI (앵커링)
- [ ] **딥 스캔 버튼 → 베타 준비중 모달**
- [ ] Amplitude 연동
- [ ] 이용약관/면책조항
- [ ] 최종 테스트 & 버그 수정
- [ ] 🚀 런칭!

---

## 8. 비용 & 리스크 관리

### 8.1 예상 비용 (월간, Free Plan 기준)

| 항목 | 플랜 | 비용 |
|------|------|------|
| Vercel | Free | $0 |
| Supabase | Hobby (Free) | $0 |
| Apify | Free ($5 크레딧) | $0 |
| Gemini API | 종량제 | ~$10-20 |
| Resend (이메일) | Free (100/일) | $0 |
| Amplitude | Free | $0 |
| **합계** | | **$10-20/월** |

### 8.2 리스크 & 대응 방안

| 리스크 | 대응 방안 |
|--------|-----------|
| Apify 스크래핑 실패 | Fallback 전략: 다른 Actor → Bright Data → 자체 구현 |
| 분석 시간 초과 | 백그라운드 작업 + 이메일 알림으로 UX 보완 |
| 성별 판단 부정확 | 신뢰도 점수로 투명성 확보 + confidence 임계값 조정 |
| 댓글 친밀도 오판 | confidence 임계값 적용 + 명확한 기준 수립 |
| 법적 분쟁 | 면책 조항 명시 + "재미 목적" 강조 + 100명 베타로 리스크 최소화 |
| 바이럴 후 이슈화 | 베타 단계에서 피드백 수집 → 정식 출시 전 법률 자문 |

---

## 9. 향후 로드맵

### 9.1 2차 버전 기능 (MVP 이후)

- **타임라인 시각화:** 월별 상호작용 그래프, "작년 여름에 갑자기 친해졌네요" 인사이트
- **공통 태그/장소 분석:** 같은 장소 태그, 같은 날짜 게시물 감지
- **결과 리포트 저장/공유:** PDF 다운로드, 링크 공유
- **딥 스캔 정식 오픈:** 외부 댓글까지 전수 분석

### 9.2 프리미엄 기능 (추가 결제)

- **딥 스캔:** 애인이 다른 게시물/릴스에 단 댓글까지 분석 (시간/비용 집약적)
- **역분석:** "이 사람이 내 남친에게 얼마나 관심 있는지" 상대방 시점 분석

### 9.3 수익 모델

| 모델 | 가격 | 제공 내용 |
|------|------|-----------|
| 무료 | 0원 | 1회 분석 + 1위 결과 |
| 추가 열람 | 4,900원/인 | 2위 이하 인물 상세 |
| 딥 스캔 | 29,900원/회 | 외부 댓글까지 전수 분석 (베타 준비중) |

---

## Amplitude 트래킹 이벤트 정의

### 핵심 퍼널 이벤트

| 이벤트명 | 트리거 시점 | 속성 |
|----------|-------------|------|
| `page_view_landing` | 랜딩 페이지 진입 | referrer, utm_source |
| `click_cta_start` | "무료로 분석 시작하기" 클릭 | - |
| `auth_complete` | 로그인 완료 | provider (kakao/google) |
| `analysis_start` | 분석 시작 | target_gender |
| `analysis_complete` | 분석 완료 | duration_seconds, result_count |
| `view_result` | 결과 페이지 조회 | rank_1_score, confidence_score |
| `click_share_kakao` | 카카오톡 공유 클릭 | - |
| `click_share_instagram` | 인스타 DM 공유 클릭 | - |
| `click_unlock_rank2` | 2위 열람 버튼 클릭 | - |
| `click_deep_scan` | 딥 스캔 버튼 클릭 | - |
| `view_deep_scan_beta_modal` | 딥 스캔 베타 모달 노출 | - |
| `payment_complete` | 결제 완료 | amount, product_type |

### 유저 속성

| 속성명 | 설명 |
|--------|------|
| `analysis_count` | 총 분석 횟수 |
| `paid_user` | 결제 여부 |
| `signup_date` | 가입일 |
| `last_analysis_date` | 마지막 분석일 |

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|-----------|
| 1.0 | 2025-01-22 | 초안 작성 |
| 1.1 | 2025-01-22 | 태그 정의 확장, 외모 분석 추가, 카카오 공유 멘트 변경, 기간 가중치 수정, 개발 계획 3일로 압축, 수익 모델 수정, 신뢰도 계산 수정 |
| 1.2 | 2025-01-22 | **댓글 친밀도 분석 추가** (일반 3점/친밀 5점), 친밀도 판단 기준 정의, 딥 스캔 버튼 → 베타 준비중 모달 추가 |

---

*— End of Document —*
